{
  $schema: 'https://docs.renovatebot.com/renovate-schema.json',
  extends: [
    'config:best-practices',
    'mergeConfidence:all-badges',
    ':timezone(Asia/Seoul)',
    ':prHourlyLimit2',
  ],
  dependencyDashboardApproval: true,
  labels: [
    'dependencies',
    'renovate',
  ],
  vulnerabilityAlerts: {
    enabled: true,
    labels: [
      'dependencies',
      'renovate',
      'security',
    ],
    automerge: false,
    vulnerabilityFixStrategy: 'lowest',
  },
  lockFileMaintenance: {
    enabled: true,
    schedule: [
      'before 4am',
    ],
    automerge: false,
    commitMessagePrefix: 'chore(deps): ',
    commitMessageAction: 'update',
    commitMessageTopic: 'Gradle lockfile',
    prBodyNotes: [
      'This PR updates the Gradle lockfile to reflect the latest versions of transitive dependencies.',
      '',
      '**Review Checklist:**',
      '- [ ] CI passes',
      '- [ ] No unexpected dependency changes',
      '- [ ] No security vulnerabilities introduced',
    ],
  },
  gradle: {
    managerFilePatterns: [
      '/(^|/)gradle/libs\\.versions\\.toml$/',
    ],
  },
  packageRules: [
    {
      matchPackageNames: [
        '/org.springframework.boot/',
        '/org.springframework.cloud/',
      ],
      groupName: 'Spring Boot Dependencies',
    },
    {
      matchPackageNames: [
        '/org.jetbrains.kotlin/',
        '/org.jetbrains.kotlinx/',
      ],
      groupName: 'Kotlin Dependencies',
    },
    {
      matchPackageNames: [
        '/io.github.resilience4j/',
      ],
      groupName: 'Resilience4j',
    },
    {
      matchPackageNames: [
        '/io.kotest/',
      ],
      groupName: 'Kotest',
    },
    {
      matchPackageNames: [
        '/org.testcontainers/',
      ],
      groupName: 'Testcontainers',
    },
    {
      matchPackageNames: [
        '/io.sentry/',
      ],
      groupName: 'Sentry',
    },
    {
      matchPackageNames: [
        '/tools.jackson/',
        '/com.fasterxml.jackson/',
      ],
      groupName: 'Jackson',
    },
    {
      matchPackageNames: [
        '/io.micrometer/',
      ],
      groupName: 'Micrometer',
    },
    {
      matchDepTypes: [
        'testImplementation',
        'testRuntimeOnly',
      ],
      dependencyDashboardApproval: false,
      labels: [
        'dependencies',
        'renovate',
        'test',
      ],
    },
    {
      matchUpdateTypes: [
        'patch',
      ],
      dependencyDashboardApproval: false,
      automerge: true,
    },
    {
      matchUpdateTypes: [
        'major',
      ],
      labels: [
        'dependencies',
        'renovate',
        'breaking',
      ],
      dependencyDashboardApproval: true,
    },
    {
      matchPackageNames: [
        'gradle',
      ],
      groupName: 'Gradle Wrapper',
    },
  ],
}
